# CppLanguageCoursePractice
C&amp;C++程序设计实践(大一课程设计)

最近补修了C++程序设计实践(大一课程设计)，课程大致是写一个简单的商品管理系统。由于课程限制必须使用控制台，因此想方设法把UI界面绘制好就有点麻烦了。故借此机会简单学习了ANSI Escape Code
来实现字符变色，光标移动等功能。最终完成的程序部分展示效果如图：
![image](https://user-images.githubusercontent.com/97741556/226078319-1283b759-565d-44a4-8a02-b849195f2262.png)
![image](https://user-images.githubusercontent.com/97741556/226078335-f1cb7810-24d0-41b6-ac02-98ceb12e6749.png)

嗯...有点像古老的非图形界面主板BIOS设置界面吧，估计那个系统也是用到这些东西实现的。总的来说，这个程序实现了键盘-UI交互，可以按↑↓键选择选项，而非输入数字选择选项那种。
由于课程实践要求数据结构必须手写，不能使用STL，故自己又简单实现了双向链表和HashMap这两个数据结构，其中HashMap是高仿Java的HashMap写的。当然，也仿照STL给数据结构设计了相应
的迭代器(Iterator). 同时，为了实现列表滚轮效果，又设计了ScrollIterator滚动迭代器（类似于分页器，但是是滚动式的）

程序分为数据访问层(DAL)，数据处理层(DPL)，服务层(Service)和交互层(UI)设计。当然，自己是实现了简单的事件响应机制的，原理也很简单，就是下面这个流程图。
![image](https://user-images.githubusercontent.com/97741556/226078529-4fc5d4a7-62a7-4eb0-9f58-fb2d62b421e3.png)
而UI界面的切换使用了多态特性，大致就是每个UI界面的绘制交给每个继承UserInterface基类的子类去做，子类实现基类虚函数paint()和processKeyboardMessage()，
以此实现方便的UI界面切换（只需改变基类指针的指向），切换后依赖于多态特性，会自动执行子类的那一套paint()方法和processKeyboardMessage()消息响应。
当然，针对某些具有共同特征的UI界面，我又设计了TemplateUI模版界面类。这样，具有共同特征的UI界面只需继承这个类即可绘制同一模版的界面（如一张列表，选择框，编辑框），说白了，
这个其实就是组件化，只不过这个组件是占据整个UI的，因此叫模版UI了。


不得不说，我还是喜欢用宏。看这下面的代码，这几个宏实现了键盘消息和响应函数的绑定，用宏是不是更加清晰便捷了。然而这实际上就是那个processKeyboardMessage()函数，这几个宏是实现这个函数的，
里面就是用switch实现的。但是用宏真的很美观很舒服！改起来超级方便，比在一大堆switch里找要舒服。不过我也承认，这个灵感是来自于MFC的那个MESSAGE_MAP宏
![image](https://user-images.githubusercontent.com/97741556/226079472-8298369b-3ef5-45f4-bedb-0ecb725a54e9.png)


前几天刚现场验收完毕，果然被老师夸了哈哈哈。老师把其他组都问崩溃了，挑了其他组的好多刺，但是到我们这一组老师就没有多问，说明老师还是认可的。
不过，这是在我已经有了至少 六七个 项目的程序设计的经验基础上完成的，本身自己也是大二学生，这门课是补修（转专业原因），所以说其实也没啥骄傲的。
既然大二了就要拿出大二的实力，同时也是一次熟手程序设计的机会，这也是我选择花点时间设计控制台的UI界面，手动设计链表和HashMap的原因。 

如果有任何疑问可以联系QQ:1790226429  email: kiminouso@qq.com  

河海大学 2021级
kiminouso
